@model IPagedList<NotesMarketPlace.Models.SellerNote>
@using PagedList;
@using PagedList.Mvc;
@{
    IEnumerable<NotesMarketPlace.Models.ReferenceData> status = ViewData["Status"] as IEnumerable<NotesMarketPlace.Models.ReferenceData>;
    IEnumerable<NotesMarketPlace.Models.NoteCategory> category = ViewData["Category"] as IEnumerable<NotesMarketPlace.Models.NoteCategory>;
    IEnumerable<NotesMarketPlace.Models.User> user = ViewData["User"] as IEnumerable<NotesMarketPlace.Models.User>;
    
}
<!DOCTYPE html>
<html lang="en">

<head>

    <!-- important meta tags -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">

    <!-- Title -->
    <title>Notes MarketPlace</title>

    <!-- Favicon-->
    <link rel="shortcut icon" href="~/images/home/favicon.ico">

    <!-- Google Fonts-->
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700" rel="stylesheet">

    <!-- Fontawesome -->
    <link rel="stylesheet" href="~/Content/font-awesome/css/font-awesome.min.css">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="~/Content/bootstrap/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="~/Content/style.css">
    <link rel="stylesheet" href="~/Content/whiteNav.css">

    <!-- Responsive CSS -->
    <link rel="stylesheet" href="~/Content/responsive.css">

    <!-- JQuery -->
    <script src="~/Scripts/jquery.min.js"></script>

</head>


<body data-spy="scroll" data-target=".navbar" data-offset="65">

    <!-- Header -->
    <header id="admin-header">
        <nav class="navbar navbar-fixed-top">
            <div class="container-fluid white-nav-top">
                <div class="site-nav-wrapper">
                    <div class="navbar-header">

                        <!-- Mobile Menu Open Button -->
                        <span id="mobile-nav-open-btn">&#9776;</span>

                        <!-- Logo -->
                        <a class="navbar-brand1 smooth-scroll" href="#home">
                            <img src="~/images/home/logo.png" alt="Logo" style="margin-left: 50px;">
                        </a>
                    </div>

                    <!-- Main Menu -->
                    <div class="container">
                        <div class="collapse navbar-collapse">

                            <ul class="nav navbar-nav pull-right">

                                <li>
                                    <a class="smooth-scroll" href="searchNotes.html" target="_self">
                                        <b>Dashboard</b>
                                        <hr>
                                    </a>
                                </li>
                                <li>
                                    <a alter="client" class="smooth-scroll" href="#" id="dropdownMenuLink" data-toggle="dropdown" ` aria-haspopup="true" aria- expanded="false">
                                        <b> Notes</b>
                                        <hr>
                                    </a>
                                    <div class="dropdown-menu width-notes">
                                        <div class="dropdown-item item-01" href="#">Notes Under Review</div><br>
                                        <div class="dropdown-item" href="#">Published Notes</div><br>
                                        <div class="dropdown-item" href="#">Downloaded Notes</div><br>
                                        <div class="dropdown-item" href="#">Rejected Notes</div><br>

                                    </div>
                                </li>
                                <li><a class="smooth-scroll" href="#"><b>Members</b></a></li>
                                <li>
                                    <a alter="client" class="smooth-scroll" href="#" id="dropdownMenuLink" data-toggle="dropdown" ` aria-haspopup="true" aria-expanded="false">
                                        <b>Reports</b>
                                        <hr>
                                    </a>
                                    <div class="dropdown-menu width-reports">
                                        <div class="dropdown-item item-01" href="#">Spam Reports</div><br>
                                    </div>
                                    <hr>
                                </li>
                                <li>
                                    <a class="smooth-scroll" href="#">
                                        <b>Settings</b>
                                        <hr>
                                    </a>
                                </li>
                                <li>
                                    <div class="dropdown">
                                        <img src="~/images/Dashboard/user-img.png" role="button" alter="client" class="img-circle img-responsive profile" href="#" id="dropdownMenuLink" data-toggle="dropdown" ` aria-haspopup="true" aria-expanded="false">
                                        <div class="dropdown-menu text-center width-dashboard">
                                            <div class="dropdown-item" href="#">My Profile</div><br>
                                            <div class="dropdown-item" href="#">My Downloads</div><br>
                                            <div class="dropdown-item" href="#">My Sold Notes</div><br>
                                            <div class="dropdown-item" href="#">My Rejected Notes</div><br>
                                            <div class="dropdown-item" href="#">Change Password</div><br>
                                            <div class="dropdown-item item-logout" href="#">Logout</div>
                                        </div>
                                    </div>
                                </li>
                                <li><a class=" btn btn-login smooth-scroll" href="#" role="button"><b>Logout</b></a></li>

                            </ul>
                        </div>
                    </div>


                    <!-- Mobile Menu -->
                    <div id="mobile-nav">
                        <!-- Mobile Menu Close Button -->
                        <span id="mobile-nav-close-btn">&times;</span>
                        <div id="mobile-nav-content">
                            <ul class="nav">
                                <li>
                                    <div id="mobile-menu-dropdown" class="dropdown">
                                        <img src="~/images/Dashboard/user-img.png" role="button" alter="client" class="img-circle img-responsive profile" href="#" id="dropdownMenuLink" data-toggle="dropdown" ` aria-haspopup="true" aria-expanded="false">

                                        <div class="dropdown-menu text-center width-dashboard">
                                            <div class="dropdown-item item-01" href="#">My Profile</div><br>
                                            <hr>
                                            <div class="dropdown-item" href="#">My Downloads</div><br>
                                            <hr>
                                            <div class="dropdown-item" href="#">My Sold Notes</div><br>
                                            <hr>
                                            <div class="dropdown-item" href="#">My Rejected Notes</div><br>
                                            <hr>
                                            <div class="dropdown-item" href="#">Change Password</div><br>
                                            <hr>
                                            <div class="dropdown-item item-logout" href="#">Logout</div>

                                        </div>
                                    </div>
                                </li>
                                <hr>

                                <li><a class="smooth-scroll" href="searchNotes.html" target="_self"><b>Dashboard</b></a></li>
                                <hr>
                                <li>
                                    <div id="mobile-menu-dropdown1" class="dropdown">
                                        <a alter="client" class="smooth-scroll" href="#" id="dropdownMenuLink" data-toggle="dropdown" ` aria-haspopup="true" aria-expanded="false"><b> Notes</b></a>

                                        <div class="dropdown-menu width-notes">
                                            <div class="dropdown-item item-01" href="#">Notes Under Review</div><br>
                                            <div class="dropdown-item" href="#">Published Notes</div><br>
                                            <div class="dropdown-item" href="#">Downloaded Notes</div><br>
                                            <div class="dropdown-item" href="#">Rejected Notes</div><br>
                                        </div>
                                    </div>
                                </li>
                                <hr>

                                <li><a class="smooth-scroll" href="mySoldNotes.html"><b>Members</b></a></li>
                                <hr>

                                <li>
                                    <div id="mobile-menu-dropdown" class="dropdown">
                                        <a alter="client" class="smooth-scroll" href="#" id="dropdownMenuLink" data-toggle="dropdown" ` aria-haspopup="true" aria-expanded="false"><b>Reports</b></a>

                                        <div class="dropdown-menu width-reports">
                                            <div class="dropdown-item item-01" href="#">Spam Reports</div><br>
                                        </div>

                                    </div>
                                </li>
                                <hr>

                                <li><a class="smooth-scroll" href="contact.html"><b>Setting</b></a></li>
                                <hr>
                                <li><button class=" btn btn-login smooth-scroll" href="login.html"><b>Logout</b></button></li>
                            </ul>
                        </div>
                    </div>

                </div>
            </div>
        </nav>
    </header>
    <!-- Header Ends -->
    <!-- Notes Under Review -->
    <section id="notesUnderReview">
        <div class="content-box-md content-box-sm content-box-xs">
            <div class="container under-review-wrapper">
                <div class="row">
                    <div class="sub-heading margin-reset">
                        <h4>Notes Under Review</h4>
                    </div>
                    <div class="row">
                        <form id="form1">
                            <div class="left">
                                <p>Seller</p>

                                <select onchange="onSubmit()" class="form-control seller" name="seller" id="seller">
                                    <option value="">Seller</option>
                                    @foreach (NotesMarketPlace.Models.SellerNote n in Model)
                                    {
                                    foreach (var u in user)
                                    {
                                        if (n.SellerID == u.ID)
                                        {
                                            <option value="@u.ID">@u.FirstName</option>
                                        }
                                    }
                                    }
                                </select>
                                <script>
                                    $("#seller").val("@Request.QueryString["seller"]");
                                </script>
                            </div>
                        </form>


                        <div class="margin-top">
                            <form method="get">
                                <div class="s-btn margin-right margin-reset">
                                    <button class="btn btn-search" type="submit">search</button>
                                </div>
                                <div class="seach-bar">
                                    <span class="search-icon"><img src="~/images/Dashboard/search-icon.svg"></span>
                                    <div>
                                        <input type="text" class="form-control border-none" id="search" name="search"
                                               value="@Request.QueryString["search"]" placeholder="Search">
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>



                </div>

                <div class="table-responsive">
                    <table class="table border shadow">
                        <thead>
                            <tr>
                                <th scope="col">sr no.</th>
                                <th scope="col">note title</th>
                                <th scope="col">category</th>
                                <th scope="col" class="seller01">seller</th>
                                <th scope="col"> </th>
                                <th scope="col">date added</th>
                                <th scope="col">status</th>
                                <th scope="col" class="text-center action">action</th>
                                <th scope="col"> </th>
                            </tr>
                        </thead>
                        <tbody>
                            @{ int index = 1;}
                            @foreach (NotesMarketPlace.Models.SellerNote n in Model)
                            {
                                NotesMarketPlace.Models.NotesMarketPlaceEntities2 db = new NotesMarketPlace.Models.NotesMarketPlaceEntities2();
                                var v = db.SellerNotesAttachments.Where(e => e.NoteID == n.ID).FirstOrDefault();
                                <tr>
                                    <td class="sr-no">@index</td>
                                    <td class="blue"><a href="@Url.Action("NoteDetails","Admin",new { id=n.ID})">@n.Title</a></td>
                                    <td>@n.NoteCategory.Name</td>

                                    <td>@n.User.FirstName @n.User.LastName</td>
                                    <td>
                                        <a href="@Url.Action("MemberDetails","Admin",new { id=(n.SellerID)})"> <img src="~/images/Dashboard/eye.png" class="eye"></a>
                                    </td>
                                    <td>25-11-2020, 11:08</td>
                                    <td>@n.ReferenceData.Value</td>
                                    <td>
                                        <button class="btn btn-action btn-green"><a href="@Url.Action("Approve","Admin",new { id=(int)n.ID})" class="btn-admin-download" style="color:#fff;">Approve</a></button>
                                        <button class="btn btn-action btn-red"><a href="@Url.Action("Reject","Admin",new { id=(int)n.ID})" class="btn-admin-download" style="color:#fff;">Reject</a></button>
                                        <button class="btn btn-action btn-grey"><a href="@Url.Action("InReview","Admin",new { id=(int)n.ID})" class="btn-admin-download" style="color:#fff;">InReview</a></button>
                                    </td>
                                    <td>
                                        <div class="dropdown right">
                                            <img src="~/images/Dashboard/dots.png" role="button" alter="client" class="img-responsive eye" href="#" id="dropdownMenuLink" data-toggle="dropdown" ` aria-haspopup="true" aria-expanded="false">

                                           
                                            <div class="dropdown-menu width-view">
                                                <div class="dropdown-item item-01"><a href='@Url.Action("NoteDetails", "Admin", new {id=n.ID })' style="color:#333;" class="btn-admin-download">View More Details</a></div><br>
                                                <div class="dropdown-item"><a href='@Url.Action("Download", "RegisteredUser", new {path=v.FilePath})' style="color:#333;" class="btn-admin-download">Download Notes</a></div><br>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                                index += 1;
                            }


                        </tbody>
                    </table>
                </div>


            <div id="page" class="text-center">
               @Html.PagedListPager(Model, i => Url.Action("NotesUnderReview", "Admin", new { i, search = Request.QueryString["search"],seller = Request.QueryString["seller"] }), new PagedListRenderOptions
               {
                   ContainerDivClasses = null,
                   LiElementClasses = new string[] { "page-item1" },
                   UlElementClasses = new string[] { "pagination justify-content-center" },
                   LinkToNextPageFormat = "<i class='fa fa-chevron-right'></i>",
                   LinkToPreviousPageFormat = "<i class='fa fa-chevron-left'></i>",
                   MaximumPageNumbersToDisplay = 5,
                   DisplayEllipsesWhenNotShowingAllPageNumbers = false,
                   DisplayLinkToFirstPage = PagedListDisplayMode.Never,
                   DisplayLinkToLastPage = PagedListDisplayMode.Never
               })
            </div>
            </div>

        </div>
    </section>
    <!-- Notes Under Review -->
    <!-- Footer -->
    <footer id="admin-footer" class="navbar-bottom">
        <hr>

        <div class="row">
            <div class="text text-left">
                <p class="left-footer">
                    Version: 1.1.24
                </p>
            </div>

            <div class=" text-right">
                <p class="right-footer">Copyright &copy; TatvaSoft All rights reserved.</p>
            </div>
        </div>
    </footer>
    <!-- Footer Ends -->


    <script>
        function onSubmit() {
            document.getElementById('form1').submit();
        }
    </script>
    <!-- JQuery -->
    <script src="~/Scripts/jquery.min.js"></script>

    <!-- Bootstrap JS -->
    <script src="~/Scripts/bootstrap/bootstrap.min.js"></script>

    <!-- Custom JS -->
    <script src="~/Scripts/script.js"></script>

</body>
</html>